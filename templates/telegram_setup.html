<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Connect Telegram ‚Ä¢ PriceHawk</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0f0c29;
      --card-bg: rgba(30, 30, 50, 0.55);
      --border: rgba(255,255,255,0.10);
      --text: rgba(255,255,255,0.95);
      --muted: rgba(255,255,255,0.70);
      --accent: #2ee59d;
      --danger: rgba(255,90,90,0.95);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 20px;
    }
    .wrap{ width: 100%; max-width: 720px; }
    .card{
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 22px;
      backdrop-filter: blur(10px);
    }
    h1{
      margin:0 0 10px 0;
      font-size: 1.35rem;
      font-weight: 900;
      letter-spacing: .2px;
    }
    .sub{
      color: var(--muted);
      font-weight: 600;
      line-height: 1.45;
      margin-bottom: 18px;
    }
    .steps{
      margin:0;
      padding-left: 18px;
      color: var(--muted);
      font-weight: 600;
      line-height: 1.6;
    }
    .steps li{ margin: 6px 0; }
    .row{
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 18px;
      align-items:center;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 12px 18px;
      border-radius: 14px;
      border: 0;
      cursor:pointer;
      font-weight: 900;
      text-decoration:none;
      color: #061a12;
      background: linear-gradient(135deg, rgba(46,229,157,0.95), rgba(46,229,157,0.70));
      white-space: nowrap;
    }
    .btn-outline{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 12px 18px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.18);
      cursor:pointer;
      font-weight: 900;
      color: var(--text);
      text-decoration:none;
      white-space: nowrap;
    }
    .hint{
      margin-top: 14px;
      padding: 14px;
      border-radius: 14px;
      border: 1px dashed rgba(46,229,157,0.35);
      background: rgba(46,229,157,0.08);
      color: rgba(255,255,255,0.85);
      font-weight: 700;
      line-height: 1.5;
    }
    .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      background: rgba(0,0,0,0.25);
      border: 1px solid rgba(255,255,255,0.10);
      padding: 10px 12px;
      border-radius: 12px;
      margin-top: 10px;
      overflow:auto;
      color: rgba(255,255,255,0.92);
      font-size: .9rem;
    }
    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      margin-bottom: 14px;
    }
    .small{
      font-size: .9rem;
      color: rgba(255,255,255,0.65);
      font-weight: 700;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="small">Signed in as: {{ user.email if user and user.email else "" }}</div>
      <a class="btn-outline" href="{{ url_for('index') }}">‚Üê Back</a>
    </div>

    <div class="card">
      <h1>ü¶Ö Connect Telegram Alerts</h1>
      <div class="sub">
        Follow the steps below to link your Telegram chat so PriceHawk can send you price-drop alerts.
      </div>

      <ol class="steps">
        <li>Open Telegram and start the bot: <strong>@{{ bot_username }}</strong></li>
        <li>Press <strong>Start</strong></li>
        <li>Send this command to the bot:</li>
      </ol>

      <div class="code">/start {{ setup_token }}</div>

      <div class="hint">
        After you send the command, come back to the dashboard ‚Äî your status should change to
        <strong>‚ÄúPriceHawk Alerts Active‚Äù</strong>.
      </div>

      <div class="row">
        <a class="btn" href="{{ telegram_link }}" target="_blank" rel="noopener">Open Telegram Bot</a>
        <a class="btn-outline" href="{{ url_for('index') }}">Back to Dashboard</a>
      </div>
    </div>
  </div>
</body>
</html>
